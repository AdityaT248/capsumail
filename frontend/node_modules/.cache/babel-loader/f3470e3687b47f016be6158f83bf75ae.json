{"ast":null,"code":"var _jsxFileName = \"/Users/aditya.thakkar/Documents/TimeCapsule/frontend/src/pages/MessageDetail.js\";\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { messageApi } from '../services/api';\nimport { format } from 'date-fns';\nconst MessageDetail = () => {\n  const {\n    id\n  } = useParams();\n  const navigate = useNavigate();\n  const [message, setMessage] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchMessage = async () => {\n      try {\n        const data = await messageApi.getMessage(id);\n        setMessage(data);\n      } catch (err) {\n        setError('Failed to load message details');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMessage();\n  }, [id]);\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this message?')) {\n      try {\n        await messageApi.deleteMessage(id);\n        navigate('/dashboard');\n      } catch (err) {\n        setError('Failed to delete message');\n        console.error(err);\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42,\n        columnNumber: 12\n      }\n    }, \"Loading message details...\");\n  }\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 9\n      }\n    }, error), /*#__PURE__*/React.createElement(Link, {\n      to: \"/dashboard\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }\n    }, \"Back to Dashboard\"));\n  }\n  if (!message) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }\n    }, \"Message not found\"), /*#__PURE__*/React.createElement(Link, {\n      to: \"/dashboard\",\n      className: \"btn btn-primary\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }\n    }, \"Back to Dashboard\"));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container message-detail\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 11\n    }\n  }, message.subject), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleDelete,\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 11\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"message-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 11\n    }\n  }, \"Scheduled for:\"), \" \", format(new Date(message.scheduled_date), 'PPP pp')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, \"To:\"), \" \", message.recipient_email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 11\n    }\n  }, \"Status:\"), \" \", message.is_sent ? 'Sent' : 'Scheduled'), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 9\n    }\n  }, message.content), message.attachments && message.attachments.length > 0 && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"attachment-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }\n  }, \"Attachments\"), message.attachments.map(attachment => /*#__PURE__*/React.createElement(\"div\", {\n    key: attachment.id,\n    className: \"attachment-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, attachment.file_path.split('/').pop())))), /*#__PURE__*/React.createElement(Link, {\n    to: \"/dashboard\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 9\n    }\n  }, \"Back to Dashboard\")));\n};\nexport default MessageDetail;","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","messageApi","format","MessageDetail","id","navigate","message","setMessage","loading","setLoading","error","setError","fetchMessage","data","getMessage","err","console","handleDelete","window","confirm","deleteMessage","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","subject","onClick","Date","scheduled_date","recipient_email","is_sent","content","attachments","length","map","attachment","key","file_path","split","pop"],"sources":["/Users/aditya.thakkar/Documents/TimeCapsule/frontend/src/pages/MessageDetail.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { messageApi } from '../services/api';\nimport { format } from 'date-fns';\n\nconst MessageDetail = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const [message, setMessage] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchMessage = async () => {\n      try {\n        const data = await messageApi.getMessage(id);\n        setMessage(data);\n      } catch (err) {\n        setError('Failed to load message details');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMessage();\n  }, [id]);\n\n  const handleDelete = async () => {\n    if (window.confirm('Are you sure you want to delete this message?')) {\n      try {\n        await messageApi.deleteMessage(id);\n        navigate('/dashboard');\n      } catch (err) {\n        setError('Failed to delete message');\n        console.error(err);\n      }\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading message details...</div>;\n  }\n\n  if (error) {\n    return (\n      <div className=\"container\">\n        <div className=\"error\">{error}</div>\n        <Link to=\"/dashboard\" className=\"btn btn-primary\">Back to Dashboard</Link>\n      </div>\n    );\n  }\n\n  if (!message) {\n    return (\n      <div className=\"container\">\n        <div className=\"error\">Message not found</div>\n        <Link to=\"/dashboard\" className=\"btn btn-primary\">Back to Dashboard</Link>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"container message-detail\">\n      <div className=\"card\">\n        <div className=\"dashboard-header\">\n          <h2>{message.subject}</h2>\n          <button onClick={handleDelete} className=\"btn btn-danger\">Delete</button>\n        </div>\n        \n        <p className=\"message-date\">\n          <strong>Scheduled for:</strong> {format(new Date(message.scheduled_date), 'PPP pp')}\n        </p>\n        \n        <p>\n          <strong>To:</strong> {message.recipient_email}\n        </p>\n        \n        <p>\n          <strong>Status:</strong> {message.is_sent ? 'Sent' : 'Scheduled'}\n        </p>\n        \n        <div className=\"message-content\">\n          {message.content}\n        </div>\n        \n        {message.attachments && message.attachments.length > 0 && (\n          <div className=\"attachment-list\">\n            <h3>Attachments</h3>\n            {message.attachments.map(attachment => (\n              <div key={attachment.id} className=\"attachment-item\">\n                <span>{attachment.file_path.split('/').pop()}</span>\n              </div>\n            ))}\n          </div>\n        )}\n        \n        <Link to=\"/dashboard\" className=\"btn btn-secondary\">Back to Dashboard</Link>\n      </div>\n    </div>\n  );\n};\n\nexport default MessageDetail;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SAASC,SAAS,EAAEC,WAAW,EAAEC,IAAI,QAAQ,kBAAkB;AAC/D,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,MAAM,QAAQ,UAAU;AAEjC,MAAMC,aAAa,GAAGA,CAAA,KAAM;EAC1B,MAAM;IAAEC;EAAG,CAAC,GAAGN,SAAS,CAAC,CAAC;EAC1B,MAAMO,QAAQ,GAAGN,WAAW,CAAC,CAAC;EAC9B,MAAM,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGX,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACY,OAAO,EAAEC,UAAU,CAAC,GAAGb,QAAQ,CAAC,IAAI,CAAC;EAC5C,MAAM,CAACc,KAAK,EAAEC,QAAQ,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAEtCC,SAAS,CAAC,MAAM;IACd,MAAMe,YAAY,GAAG,MAAAA,CAAA,KAAY;MAC/B,IAAI;QACF,MAAMC,IAAI,GAAG,MAAMZ,UAAU,CAACa,UAAU,CAACV,EAAE,CAAC;QAC5CG,UAAU,CAACM,IAAI,CAAC;MAClB,CAAC,CAAC,OAAOE,GAAG,EAAE;QACZJ,QAAQ,CAAC,gCAAgC,CAAC;QAC1CK,OAAO,CAACN,KAAK,CAACK,GAAG,CAAC;MACpB,CAAC,SAAS;QACRN,UAAU,CAAC,KAAK,CAAC;MACnB;IACF,CAAC;IAEDG,YAAY,CAAC,CAAC;EAChB,CAAC,EAAE,CAACR,EAAE,CAAC,CAAC;EAER,MAAMa,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC/B,IAAIC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,EAAE;MACnE,IAAI;QACF,MAAMlB,UAAU,CAACmB,aAAa,CAAChB,EAAE,CAAC;QAClCC,QAAQ,CAAC,YAAY,CAAC;MACxB,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZJ,QAAQ,CAAC,0BAA0B,CAAC;QACpCK,OAAO,CAACN,KAAK,CAACK,GAAG,CAAC;MACpB;IACF;EACF,CAAC;EAED,IAAIP,OAAO,EAAE;IACX,oBAAOb,KAAA,CAAA0B,aAAA;MAAKC,SAAS,EAAC,SAAS;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,4BAA+B,CAAC;EAClE;EAEA,IAAIlB,KAAK,EAAE;IACT,oBACEf,KAAA,CAAA0B,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxBjC,KAAA,CAAA0B,aAAA;MAAKC,SAAS,EAAC,OAAO;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAElB,KAAW,CAAC,eACpCf,KAAA,CAAA0B,aAAA,CAACrB,IAAI;MAAC6B,EAAE,EAAC,YAAY;MAACP,SAAS,EAAC,iBAAiB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,mBAAuB,CACtE,CAAC;EAEV;EAEA,IAAI,CAACtB,OAAO,EAAE;IACZ,oBACEX,KAAA,CAAA0B,aAAA;MAAKC,SAAS,EAAC,WAAW;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,gBACxBjC,KAAA,CAAA0B,aAAA;MAAKC,SAAS,EAAC,OAAO;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,mBAAsB,CAAC,eAC9CjC,KAAA,CAAA0B,aAAA,CAACrB,IAAI;MAAC6B,EAAE,EAAC,YAAY;MAACP,SAAS,EAAC,iBAAiB;MAAAC,MAAA;MAAAC,QAAA;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA;IAAA,GAAC,mBAAuB,CACtE,CAAC;EAEV;EAEA,oBACEjC,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,0BAA0B;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACvCjC,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,MAAM;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACnBjC,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,kBAAkB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC/BjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAKtB,OAAO,CAACwB,OAAY,CAAC,eAC1BnC,KAAA,CAAA0B,aAAA;IAAQU,OAAO,EAAEd,YAAa;IAACK,SAAS,EAAC,gBAAgB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,QAAc,CACrE,CAAC,eAENjC,KAAA,CAAA0B,aAAA;IAAGC,SAAS,EAAC,cAAc;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACzBjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,gBAAsB,CAAC,KAAC,EAAC1B,MAAM,CAAC,IAAI8B,IAAI,CAAC1B,OAAO,CAAC2B,cAAc,CAAC,EAAE,QAAQ,CACjF,CAAC,eAEJtC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,KAAW,CAAC,KAAC,EAACtB,OAAO,CAAC4B,eAC7B,CAAC,eAEJvC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBACEjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAQ,SAAe,CAAC,KAAC,EAACtB,OAAO,CAAC6B,OAAO,GAAG,MAAM,GAAG,WACpD,CAAC,eAEJxC,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAC7BtB,OAAO,CAAC8B,OACN,CAAC,EAEL9B,OAAO,CAAC+B,WAAW,IAAI/B,OAAO,CAAC+B,WAAW,CAACC,MAAM,GAAG,CAAC,iBACpD3C,KAAA,CAAA0B,aAAA;IAAKC,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAC9BjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAI,aAAe,CAAC,EACnBtB,OAAO,CAAC+B,WAAW,CAACE,GAAG,CAACC,UAAU,iBACjC7C,KAAA,CAAA0B,aAAA;IAAKoB,GAAG,EAAED,UAAU,CAACpC,EAAG;IAACkB,SAAS,EAAC,iBAAiB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,gBAClDjC,KAAA,CAAA0B,aAAA;IAAAE,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAOY,UAAU,CAACE,SAAS,CAACC,KAAK,CAAC,GAAG,CAAC,CAACC,GAAG,CAAC,CAAQ,CAChD,CACN,CACE,CACN,eAEDjD,KAAA,CAAA0B,aAAA,CAACrB,IAAI;IAAC6B,EAAE,EAAC,YAAY;IAACP,SAAS,EAAC,mBAAmB;IAAAC,MAAA;IAAAC,QAAA;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA;EAAA,GAAC,mBAAuB,CACxE,CACF,CAAC;AAEV,CAAC;AAED,eAAezB,aAAa","ignoreList":[]},"metadata":{},"sourceType":"module"}