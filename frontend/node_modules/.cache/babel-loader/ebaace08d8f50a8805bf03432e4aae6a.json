{"ast":null,"code":"var _jsxFileName = \"/Users/aditya.thakkar/Documents/TimeCapsule/frontend/src/pages/Dashboard.js\";\nimport React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { messageApi } from '../services/api';\nimport { format } from 'date-fns';\nconst Dashboard = () => {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    const fetchMessages = async () => {\n      try {\n        const data = await messageApi.getMessages();\n        setMessages(data);\n      } catch (err) {\n        setError('Failed to load messages');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchMessages();\n  }, []);\n  const handleDelete = async id => {\n    if (window.confirm('Are you sure you want to delete this message?')) {\n      try {\n        await messageApi.deleteMessage(id);\n        setMessages(messages.filter(message => message.id !== id));\n      } catch (err) {\n        setError('Failed to delete message');\n        console.error(err);\n      }\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"loading\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 12\n      }\n    }, \"Loading messages...\");\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"dashboard-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, \"Your Time Capsule Messages\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/create-message\",\n    className: \"btn btn-primary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, \"Create New Message\")), error && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, error), messages.length === 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    className: \"card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, \"You don't have any scheduled messages yet.\"), /*#__PURE__*/React.createElement(Link, {\n    to: \"/create-message\",\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 11\n    }\n  }, \"Create Your First Message\")) : /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 9\n    }\n  }, messages.map(message => /*#__PURE__*/React.createElement(\"div\", {\n    key: message.id,\n    className: \"card message-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 15\n    }\n  }, message.subject), /*#__PURE__*/React.createElement(\"p\", {\n    className: \"message-date\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 15\n    }\n  }, \"Scheduled for: \", format(new Date(message.scheduled_date), 'PPP')), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 15\n    }\n  }, \"To: \", message.recipient_email), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 15\n    }\n  }, message.content.length > 100 ? `${message.content.substring(0, 100)}...` : message.content), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"message-actions\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => handleDelete(message.id),\n    className: \"btn btn-danger\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"Delete\")), /*#__PURE__*/React.createElement(Link, {\n    to: `/messages/${message.id}`,\n    className: \"btn btn-secondary\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 15\n    }\n  }, \"View Details\")))));\n};\nexport default Dashboard;","map":{"version":3,"names":["React","useState","useEffect","Link","messageApi","format","Dashboard","messages","setMessages","loading","setLoading","error","setError","fetchMessages","data","getMessages","err","console","handleDelete","id","window","confirm","deleteMessage","filter","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","to","length","map","key","subject","Date","scheduled_date","recipient_email","content","substring","onClick"],"sources":["/Users/aditya.thakkar/Documents/TimeCapsule/frontend/src/pages/Dashboard.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport { messageApi } from '../services/api';\nimport { format } from 'date-fns';\n\nconst Dashboard = () => {\n  const [messages, setMessages] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchMessages = async () => {\n      try {\n        const data = await messageApi.getMessages();\n        setMessages(data);\n      } catch (err) {\n        setError('Failed to load messages');\n        console.error(err);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchMessages();\n  }, []);\n\n  const handleDelete = async (id) => {\n    if (window.confirm('Are you sure you want to delete this message?')) {\n      try {\n        await messageApi.deleteMessage(id);\n        setMessages(messages.filter(message => message.id !== id));\n      } catch (err) {\n        setError('Failed to delete message');\n        console.error(err);\n      }\n    }\n  };\n\n  if (loading) {\n    return <div className=\"loading\">Loading messages...</div>;\n  }\n\n  return (\n    <div className=\"container\">\n      <div className=\"dashboard-header\">\n        <h2>Your Time Capsule Messages</h2>\n        <Link to=\"/create-message\" className=\"btn btn-primary\">Create New Message</Link>\n      </div>\n\n      {error && <div className=\"error\">{error}</div>}\n\n      {messages.length === 0 ? (\n        <div className=\"card\">\n          <p>You don't have any scheduled messages yet.</p>\n          <Link to=\"/create-message\" className=\"btn btn-secondary\">Create Your First Message</Link>\n        </div>\n      ) : (\n        <div className=\"grid\">\n          {messages.map(message => (\n            <div key={message.id} className=\"card message-card\">\n              <h3>{message.subject}</h3>\n              <p className=\"message-date\">\n                Scheduled for: {format(new Date(message.scheduled_date), 'PPP')}\n              </p>\n              <p>\n                To: {message.recipient_email}\n              </p>\n              <p>\n                {message.content.length > 100 \n                  ? `${message.content.substring(0, 100)}...` \n                  : message.content}\n              </p>\n              <div className=\"message-actions\">\n                <button \n                  onClick={() => handleDelete(message.id)} \n                  className=\"btn btn-danger\"\n                >\n                  Delete\n                </button>\n              </div>\n              <Link to={`/messages/${message.id}`} className=\"btn btn-secondary\">\n                View Details\n              </Link>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dashboard;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}